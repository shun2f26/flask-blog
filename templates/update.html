{% extends "base.html" %}
{% block content %}

<div class="max-w-4xl mx-auto mt-10 bg-white p-6 rounded-xl shadow">

    <h2 class="text-3xl font-bold mb-6">記事を編集</h2>

    <form method="POST" enctype="multipart/form-data">
        {{ form.csrf_token }}

        <label class="block mt-4 font-bold">タイトル</label>
        {{ form.title(class="w-full p-2 border rounded") }}

        <label class="block mt-4 font-bold">内容</label>
        {{ form.content(class="w-full p-2 border rounded h-40") }}

        <!-- 画像プレビュー -->
        {% if post.image_public_id %}
            <p class="mt-4 text-gray-600 font-bold">現在の画像</p>
            <img src="{{ post.image_url }}" class="w-64 rounded mb-4 shadow">
        {% endif %}

        <!-- 動画プレビュー -->
        {% if post.video_public_id %}
            <p class="mt-4 text-gray-600 font-bold">現在の動画</p>
            <video controls class="w-64 mb-4 shadow rounded">
                <source src="{{ post.video_url }}" type="video/mp4">
            </video>
        {% endif %}

        <label class="block mt-4 font-bold">新しい画像（任意）</label>
        {{ form.image(class="w-full p-2 border rounded") }}

        <label class="block mt-4 font-bold">新しい動画（任意）</label>
        {{ form.video(class="w-full p-2 border rounded") }}

        <button class="mt-6 px-6 py-2 bg-blue-600 text-white rounded shadow hover:bg-blue-700">
            更新する
        </button>
    </form>

</div>

{% endblock %}
