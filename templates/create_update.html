<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- ã‚¿ã‚¤ãƒˆãƒ«ã‚’æ–°è¦ä½œæˆç”¨ã«å¤‰æ›´ -->
    <title>Flask Blog | æ–°è¦è¨˜äº‹ã‚’ä½œæˆ</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons CDN for modern icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®šï¼šãƒ•ã‚©ãƒ³ãƒˆã¨èƒŒæ™¯ */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f4f7f6;
        }
        .container {
            width: 100%;
            margin-right: auto;
            margin-left: auto;
        }
        /* Custom styling for file input to match theme */
        .file-input-custom::-webkit-file-upload-button {
            border: 0;
            padding: 0.5rem 1rem;
            border-radius: 9999px; /* rounded-full */
            font-size: 0.875rem; /* text-sm */
            font-weight: 600; /* font-semibold */
            background-color: #fee2e2; /* red-100 */
            color: #b91c1c; /* red-700 */
            cursor: pointer;
            transition: background-color 0.15s;
        }
        .file-input-custom::file-selector-button {
            border: 0;
            padding: 0.5rem 1rem;
            border-radius: 9999px; /* rounded-full */
            font-size: 0.875rem; /* text-sm */
            font-weight: 600; /* font-semibold */
            background-color: #fee2e2; /* red-100 */
            color: #b91c1c; /* red-700 */
            cursor: pointer;
            transition: background-color 0.15s;
        }
        .file-input-custom:hover::-webkit-file-upload-button,
        .file-input-custom:hover::file-selector-button {
            background-color: #fecaca; /* red-200 */
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <!-- Navbar (ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰çµ±åˆ) -->
    <nav class="bg-white shadow-lg sticky top-0 z-10">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex-shrink-0">
                    <a href="#index" class="text-xl font-bold text-gray-800 hover:text-red-600 transition duration-150">
                        My Flask Blog
                    </a>
                </div>
                <!-- èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ -->
                <div class="flex items-center space-x-4">
                    <!-- ç®¡ç†è€…ãƒªãƒ³ã‚¯ (ãƒ¢ãƒƒã‚¯) -->
                    <a href="#admin" class="text-gray-600 hover:text-red-600 px-3 py-2 rounded-md text-sm font-medium flex items-center">
                        <i data-lucide="shield" class="w-4 h-4 mr-1"></i> ç®¡ç†è€…
                    </a>
                    <!-- æ–°è¦æŠ•ç¨¿ (è‡ªåˆ†è‡ªèº«ã¸ã®ãƒªãƒ³ã‚¯) -->
                    <a href="#create" class="bg-red-600 text-white hover:bg-red-700 px-3 py-2 rounded-lg text-sm font-medium transition duration-150 flex items-center shadow-md">
                        <i data-lucide="plus-circle" class="w-4 h-4 mr-1"></i> æ–°è¦æŠ•ç¨¿
                    </a>
                    <!-- ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ -->
                    <a href="#logout" class="text-gray-600 hover:text-red-600 px-3 py-2 rounded-md text-sm font-medium flex items-center">
                        <i data-lucide="log-out" class="w-4 h-4 mr-1"></i> ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Flash Messages (ãƒ¢ãƒƒã‚¯ã®é€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º) -->
    <div class="container mx-auto px-4 pt-4">
        <!-- æƒ…å ±ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ¢ãƒƒã‚¯ -->
        <div class="p-3 mb-4 rounded-lg shadow-md bg-blue-100 text-blue-800 border border-blue-300" role="alert">
            <span class="font-semibold">ãƒ’ãƒ³ãƒˆ:</span> æ–°ã—ã„è¨˜äº‹ã‚’ä½œæˆã—ã€å…¬é–‹ã™ã‚‹ã«ã¯ã™ã¹ã¦ã®å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
        </div>
    </div>

    <!-- Main Content Block - è¨˜äº‹æ–°è¦ä½œæˆãƒ•ã‚©ãƒ¼ãƒ  -->
    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-12 flex-grow">
        <div class="max-w-3xl mx-auto bg-white p-8 md:p-10 rounded-xl shadow-2xl border border-gray-100">
            <!-- è¦‹å‡ºã—ã‚’æ–°è¦ä½œæˆç”¨ã«å¤‰æ›´ -->
            <h1 class="text-3xl font-extrabold text-gray-900 mb-6 border-b pb-3 flex items-center">
                <i data-lucide="file-plus" class="w-7 h-7 mr-3 text-red-600"></i> æ–°è¦è¨˜äº‹ã‚’ä½œæˆ
            </h1>
            
            <!-- ãƒ•ã‚©ãƒ¼ãƒ ã®é–‹å§‹ -->
            <!-- actionã‚’create_submit (æ–°è¦æŠ•ç¨¿) ã«å¤‰æ›´ -->
            <form id="create-post-form" action="#create_submit" method="POST" enctype="multipart/form-data">
                
                <!-- ã‚¿ã‚¤ãƒˆãƒ«ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ -->
                <div class="mb-6">
                    <label for="title" class="block text-sm font-medium text-gray-700 mb-1">ã‚¿ã‚¤ãƒˆãƒ« <span class="text-red-500">*</span></label>
                    <!-- åˆæœŸå€¤ã¯ç©ºã«ã™ã‚‹ -->
                    <input type="text" id="title" name="title" required
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500 shadow-sm text-gray-900"
                           placeholder="è¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„">
                </div>

                <!-- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ -->
                <div class="mb-6">
                    <label for="content" class="block text-sm font-medium text-gray-700 mb-1">ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ <span class="text-red-500">*</span></label>
                    <!-- åˆæœŸå€¤ã¯ç©ºã«ã™ã‚‹ -->
                    <textarea id="content" name="content" rows="15" required
                              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500 shadow-sm text-gray-900"
                              placeholder="è¨˜äº‹ã®æœ¬æ–‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆHTMLã‚‚åˆ©ç”¨å¯èƒ½ï¼‰"></textarea>
                </div>

                <!-- ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒªã‚¢ (ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãªã—) -->
                <div class="mb-6 p-4 border border-red-200 rounded-lg bg-red-50">
                    <h3 class="text-lg font-semibold text-red-700 mb-3 flex items-center">
                        <i data-lucide="image" class="w-5 h-5 mr-2"></i> ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒ
                    </h3>
                    
                    <!-- ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ -->
                    <div class="mb-4">
                        <label for="image_file" class="block text-sm font-medium text-gray-700 mb-1">ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ (ä»»æ„)</label>
                        <input type="file" id="image_file" name="image_file" accept="image/*" 
                               class="block w-full text-sm text-gray-500 file-input-custom">
                        <p class="mt-1 text-xs text-gray-500">JPG, PNG, GIF, æœ€å¤§ 5MBã€‚</p>
                    </div>
                </div>

                <!-- ãƒ•ã‚©ãƒ¼ãƒ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ -->
                <div class="mt-8 pt-6 border-t flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4">
                    <!-- æˆ»ã‚‹ãƒœã‚¿ãƒ³ -->
                    <a href="#index" id="cancel-link" class="inline-flex justify-center items-center px-6 py-3 border border-gray-300 shadow-sm text-base font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition duration-150">
                        <i data-lucide="x" class="w-5 h-5 mr-2"></i> ã‚­ãƒ£ãƒ³ã‚»ãƒ«
                    </a>
                    <!-- æŠ•ç¨¿ãƒœã‚¿ãƒ³ã«å¤‰æ›´ -->
                    <button type="submit" class="inline-flex justify-center items-center px-6 py-3 border border-transparent shadow-md text-base font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition duration-150">
                        <i data-lucide="send" class="w-5 h-5 mr-2"></i> è¨˜äº‹ã‚’æŠ•ç¨¿
                    </button>
                    <!-- ç·¨é›†ç”»é¢ç‰¹æœ‰ã®ã€Œå‰Šé™¤ãƒœã‚¿ãƒ³ã€ã¯å‰Šé™¤ã—ã¾ã—ãŸ -->
                </div>
            </form>
        </div>
    </main>

    <!-- Footer (ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰çµ±åˆ) -->
    <footer class="bg-gray-800 text-white py-4 mt-auto">
        <div class="container mx-auto text-center text-sm">
            &copy; 2024 Flask Blog App. All Rights Reserved.
        </div>
    </footer>

    <script>
        // Lucide Iconsã®å®Ÿè¡Œ
        lucide.createIcons();

        // JavaScriptã§ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã‚’å‡¦ç†ã™ã‚‹ï¼ˆãƒ¢ãƒƒã‚¯ï¼‰
        document.getElementById('create-post-form').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const title = document.getElementById('title').value;
            const content = document.getElementById('content').value;
            
            console.log('æ–°è¦è¨˜äº‹ã®ä½œæˆå‡¦ç†ã‚’é–‹å§‹ã—ã¾ã™...');
            console.log('ã‚¿ã‚¤ãƒˆãƒ«:', title);
            
            // æŠ•ç¨¿å‡¦ç†å¾Œã€æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã€ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ãªã©ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆï¼ˆãƒ¢ãƒƒã‚¯ï¼‰
            // ğŸš¨ æ³¨æ„: å®Ÿéš›ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€alert()ã®ä»£ã‚ã‚Šã«ã‚«ã‚¹ã‚¿ãƒ ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
            alert(`æ–°ã—ã„è¨˜äº‹ã€Œ${title.substring(0, 20)}...ã€ãŒæ­£å¸¸ã«æŠ•ç¨¿ã•ã‚Œã¾ã—ãŸï¼`);
            window.location.hash = '#index'; 
            
            // å®Ÿéš›ã®Flaskã‚¢ãƒ—ãƒªã§ã¯ã€form.validate_on_submit()å¾Œã«
            // redirect(url_for('index')) ãªã©ãŒè¡Œã‚ã‚Œã¾ã™ã€‚
        });
    </script>
</body>
</html>
